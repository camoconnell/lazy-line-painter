!function(a){"use strict";var d="lazyLinePainter",e={init:function(b){return this.each(function(){var c=a(this),e=c.data(d);if(c.addClass("lazy-line"),!e){var f=a.extend({width:null,height:null,strokeWidth:2,strokeColor:"#000",strokeOverColor:null,strokeCap:"round",strokeJoin:"round",strokeOpacity:1,arrowEnd:"none",strokeDash:null,onComplete:null,delay:null,overrideKey:null,drawSequential:!0,speedMultiplier:1},b),g=f.overrideKey?f.overrideKey:c.attr("id").replace("#",""),h=f.svgData[g].dimensions.width,i=f.svgData[g].dimensions.height;f.svgData=f.svgData[g].strokepath,null===f.width&&(f.width=h),null===f.height&&(f.height=i);var j=l({viewBox:"0 0 "+h+" "+i,preserveAspectRatio:"xMidYMid"});f.svg=a(j),c.append(f.svg),c.data(d,f)}})},paint:function(){return this.each(function(){var b=a(this),c=b.data(d),e=function(){b.css({width:c.width,height:c.height}),c.paths=[],c.longestDuration=0,c.playhead=0;for(var a=0;a<c.svgData.length;a++){var d=j(c,a),e=d.getTotalLength();d.style.strokeDasharray=e+" "+e,d.style.strokeDashoffset=e,d.style.display="block",d.getBoundingClientRect(),c.useRandomColors&&(c.stroke=m());var f=c.svgData[a].duration*c.speedMultiplier;f>c.longestDuration&&(c.longestDuration=f),c.paths.push({duration:f,drawStartTime:c.playhead,path:d,length:e}),c.playhead+=f}c.totalDuration=c.drawSequential?c.playhead:c.longestDuration,c.rAF=requestAnimationFrame(function(a){g(a,c)})};null===c.delay?e():setTimeout(e,c.delay)})},pauseResume:function(){return this.each(function(){var b=a(this).data(d);b.paused?(b.paused=!1,requestAnimationFrame(function(a){f(a,b)})):(b.paused=!0,cancelAnimationFrame(b.rAF))})},erase:function(){return this.each(function(){var b=a(this);b.removeData(d),b.empty()})},destroy:function(){return this.each(function(){var b=a(this);b.removeData(d),b.remove()})},stamp:function(){return this.each(function(){var b=a(this),c=b.data(d),e=function(){for(b.css({width:c.width,height:c.height}),i=0;i<c.svgData.length;i++)c.paper.path(c.svgData[i].path).attr(h(c,c.svgData[i]))};null===c.delay?e():setTimeout(e,c.delay)})}},f=function(a,b){b.startTime=a-b.elapsed_time,requestAnimationFrame(function(a){g(a,b)})},g=function(a,b){null==b.startTime&&(b.startTime=a),b.elapsed_time=a-b.startTime;for(var c=0;c<b.paths.length;c++){var d;if(b.drawSequential?(d=b.elapsed_time-b.paths[c].drawStartTime,0>d&&(d=0)):d=b.elapsed_time,d<b.paths[c].duration&&d>0){var e=d/b.paths[c].duration*b.paths[c].length;b.paths[c].path.style.strokeDashoffset=b.paths[c].length-e}else d>b.paths[c].duration&&(b.paths[c].path.style.strokeDashoffset=0)}b.elapsed_time<b.totalDuration?b.rAF=requestAnimationFrame(function(a){g(a,b)}):null!=b.onComplete&&b.onComplete()},h=function(a,b){var c={stroke:b.strokeColor?b.strokeColor:a.strokeColor,"fill-opacity":0,"stroke-dasharray":b.strokeDash?b.strokeDash:a.strokeDash,"stroke-opacity":b.strokeOpacity?b.strokeOpacity:a.strokeOpacity,"stroke-width":b.strokeWidth?b.strokeWidth:a.strokeWidth,"stroke-linecap":b.strokeCap?b.strokeCap:a.strokeCap,"stroke-linejoin":b.strokeJoin?b.strokeJoin:a.strokeJoin};return c},j=function(b,c){var d=document.createElementNS("http://www.w3.org/2000/svg","path"),e=a(d);return b.svg.append(e),e.attr(k(b,b.svgData[c])),d},k=function(a,b){var c={d:b.path,stroke:b.strokeColor?b.strokeColor:a.strokeColor,"fill-opacity":0,"stroke-dasharray":b.strokeDash?b.strokeDash:a.strokeDash,"stroke-opacity":b.strokeOpacity?b.strokeOpacity:a.strokeOpacity,"stroke-width":b.strokeWidth?b.strokeWidth:a.strokeWidth,"stroke-linecap":b.strokeCap?b.strokeCap:a.strokeCap,"stroke-linejoin":b.strokeJoin?b.strokeJoin:a.strokeJoin,"arrow-end":b.arrowEnd?b.arrowEnd:a.arrowEnd,markerWidth:"4",markerHeight:"3",orient:"auto"};return c},l=function(a){var b=document.createElementNS("http://www.w3.org/2000/svg","svg");return b.setAttributeNS(null,"viewBox",a.viewBox),b.setAttributeNS(null,"preserveAspectRatio",a.preserveAspectRatio),b.setAttribute("xmlns","http://www.w3.org/2000/svg"),b},m=function(){for(var a="abcdef0123456789",b=[],c=0;6>c;c++){var d=Math.round(6*Math.random()),e=a.substr(d,1);b.push(e)}return"#"+b.join("")};a.fn.lazylinepainter=function(a){return e[a]?e[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?void 0:e.init.apply(this,arguments)}}(jQuery,window);